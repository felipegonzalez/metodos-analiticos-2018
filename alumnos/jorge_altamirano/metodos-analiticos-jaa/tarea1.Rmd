---
title: "Tarea 1: 2018/01/22"
output: html_notebook
---

_175904 - Jorge III Altamirano Astorga_

```{r message=FALSE, warning=FALSE, include=FALSE}
library(tidyverse)
library(ggplot2)
library(arules)
```

```{r}
datos <- read_csv("../../../datos/recetas/srep00196-s3.csv") %>%
  unclass %>%
  as.data.frame
lista_mb2 <-datos[,2:33] %>% t %>% as.data.frame %>% as.list
names(lista_mb2) <- datos[,1] %>% unlist
ap2 <- apriori(datos[,2:33],
        list(supp = 0.005, target = 'frequent itemsets'))
ap2
```

```{r}
canastas2_nest <- data_frame(id = 1:length(lista_mb2),
                      articulos = lista_mb2) 
canastas2 <- canastas2_nest %>% 
  unnest
freq_ingredients <- canastas2 %>%
  group_by(articulos) %>%
  summarise(n  = n()) %>%
  mutate(prop = n / num_canastas) %>%
  arrange(desc(n))
#DT::datatable
(articulos_frec %>%
  mutate_if(is.numeric, funs(round(., 3))))
```

```{r}
datos 
```

